<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-quickstart/slemicro-utm-aarch64">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">SLE Micro on OSX on Apple Silicon (UTM) | SUSE Edge</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://suse-edge.github.io/img/suse-edge-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://suse-edge.github.io/img/suse-edge-social-card.jpg"><meta data-rh="true" property="og:url" content="https://suse-edge.github.io/quickstart/slemicro-utm-aarch64"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SLE Micro on OSX on Apple Silicon (UTM) | SUSE Edge"><meta data-rh="true" name="description" content="OSX Virtualization"><meta data-rh="true" property="og:description" content="OSX Virtualization"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://suse-edge.github.io/quickstart/slemicro-utm-aarch64"><link data-rh="true" rel="alternate" href="https://suse-edge.github.io/quickstart/slemicro-utm-aarch64" hreflang="en"><link data-rh="true" rel="alternate" href="https://suse-edge.github.io/quickstart/slemicro-utm-aarch64" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.082d3357.css">
<link rel="preload" href="/assets/js/runtime~main.792587bc.js" as="script">
<link rel="preload" href="/assets/js/main.944a79f2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/edge-logo.svg" alt="SUSE Edge Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/edge-logo.svg" alt="SUSE Edge Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SUSE Edge site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/suse-edge/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/quickstart/slemicro-utm-aarch64">Quickstarts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/quickstart/slemicro-utm-aarch64">SLE Micro on OSX on Apple Silicon (UTM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quickstart/slemicro-virt-install-x86_64">SLE Micro on X86_64 on libvirt (virt-install)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quickstart/k3s-on-slemicro">K3s on SLE Micro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quickstart/elemental-utm-aarch64">Elemental on OSX on Apple Silicon (UTM)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/misc/slemicro-vs-slemicro-rancher">Miscellaneous</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/misc/slemicro-vs-slemicro-rancher">SLE Micro vs SLE Micro for Rancher</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/misc/rancher-disambiguation">Rancher portfolio disambiguation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/dev_howto/create-package-obs">Developer How-To</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev_howto/create-package-obs">Create a package (RPM or Container image) using OBS (openSUSE Build Service)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/product/atip/introduction">Product Documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/product/atip/introduction">*DRAFT* Adaptive Telco Infrastructure Platform</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Quickstarts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SLE Micro on OSX on Apple Silicon (UTM)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Intro</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="osx-virtualization">OSX Virtualization<a href="#osx-virtualization" class="hash-link" aria-label="Direct link to OSX Virtualization" title="Direct link to OSX Virtualization">​</a></h2><p>Virtualization of Linux hosts on OSX can be achieved with various tools.
There are commercial products such as VMWare Fusion or Parallels Desktop
as well as open-source projects such as VirtualBox, UTM or Lima.</p><p>UTM is an OSX application that uses QEMU under the hood and offers a GUI
to manage the VM lifecycle. It supports Apple silicon CPUs, and it can
use native OSX virtualization (Virtualization.framework) as well. It
also has a scripting interface via <a href="https://docs.getutm.app/scripting/scripting/" target="_blank" rel="noopener noreferrer">Apple
Script</a> to automate some
processes and a proper CLI (utmctl) is on the works.</p><p>Lima is based on QEMU (experimental support for
Virtualization.framework) as well and it launches Linux virtual machines
with automatic file sharing and port forwarding (like WSL2), and
containerd. Lima is expected to be used on macOS hosts, but can be used
on Linux hosts as well. Lima has a proper CLI tool (limactl) and the
best part is VMs can be defined in yaml files, so you can even deploy
K8s clusters with just a single command
(see <a href="https://github.com/lima-vm/lima/blob/master/examples/k8s.yaml" target="_blank" rel="noopener noreferrer">https://github.com/lima-vm/lima/blob/master/examples/k8s.yaml</a>)</p><p><strong>NOTE:</strong> Rancher desktop is <a href="https://github.com/rancher-sandbox/rancher-desktop/issues/3702" target="_blank" rel="noopener noreferrer">based on Lima</a></p><p>However, Lima doesn&#x27;t support SLE Micro
(<a href="https://github.com/lima-vm/lima/issues/1456" target="_blank" rel="noopener noreferrer">yet</a>) as Lima customizes
the VM at boot to install some packages and services and SLE Micro uses a
different approach to those things (for example as it is immutable, it
requires installing packages using ignition/combustion)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sle-micro-installation-automation-iso-vs-image">SLE Micro installation automation: ISO vs Image<a href="#sle-micro-installation-automation-iso-vs-image" class="hash-link" aria-label="Direct link to SLE Micro installation automation: ISO vs Image" title="Direct link to SLE Micro installation automation: ISO vs Image">​</a></h2><p>SLE Micro can be installed traditionally using an ISO file that boots
once and using click-ops you can customize it as you wish
(see <a href="https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#cha-install" target="_blank" rel="noopener noreferrer">https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#cha-install</a>)
but that won&#x27;t be useful.</p><p>ISO installation can be customized using boot parameters
(see <a href="https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#sec-boot-parameters-list" target="_blank" rel="noopener noreferrer">https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#sec-boot-parameters-list</a>)
but those don&#x27;t cover all the options. However, ISO based installation
supports using AutoYaST (see <a href="https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-autoyast/" target="_blank" rel="noopener noreferrer">https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-autoyast/</a>)
to automate the installation process.</p><p>SLE Micro can be also deployed using pre-built images. Currently, there
are two types of images available: raw disk images and selfinstall ISOs.</p><p>SLE Micro raw images are delivered for the AMD64/Intel 64 architecture,
IBM Z ZSeries and also AArch64, however the selfinstall images are
currently delivered only for the AMD64/Intel 64 architecture. The
pre-built images (both selfinstall ISOs and raw disk images) are
intended to be configured on the first boot by using either Ignition or
Combustion.</p><p><em>To summarize</em>, the two ways as of today to deploy SLE Micro on Aarch64
on an automated fashion would be using the ISO + AutoYaST or raw
images + Ignition/Combustion.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ignition-vs-butane-vs-combustion">Ignition vs Butane vs Combustion<a href="#ignition-vs-butane-vs-combustion" class="hash-link" aria-label="Direct link to Ignition vs Butane vs Combustion" title="Direct link to Ignition vs Butane vs Combustion">​</a></h2><p><strong>Ignition</strong> is a provisioning tool that enables you to configure a
system according to your specification on the first boot. When the
system is booted for the first time, Ignition is loaded as part of an
initramfs and searches for a configuration file within a specific
directory (on a USB flash disk, or you can provide a URL). All changes
are performed before the kernel switches from the temporal file system
to the real root file system (before the switch_root command is issued).
Ignition uses a configuration file in the JSON format. The file is
called config.ign. SLE Micro supports
<a href="https://coreos.github.io/ignition/configuration-v3_3/" target="_blank" rel="noopener noreferrer">Ignition config spec 3.3.0</a>
(see
<a href="https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#sec-ignition-configuration" target="_blank" rel="noopener noreferrer">https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#sec-ignition-configuration</a>
for more information).</p><p>Ignition files can be complex to generate manually (specially for the
file permissions syntax in hex or multiline things) so you can use
<a href="https://opensuse.github.io/fuel-ignition/" target="_blank" rel="noopener noreferrer">opensuse.github.io/fuel-ignition</a>
to help you generate a basic one.</p><p><strong>Butane</strong> is a more human readable (and writable) configuration syntax
based on yaml that can be translated to Ignition easily with the <a href="https://coreos.github.io/butane/" target="_blank" rel="noopener noreferrer">butane
CLI</a> as Butane is not consumable by
Ignition.</p><p><strong>Combustion</strong> is a dracut module that enables you to configure your
system on its first boot. Combustion reads a provided file called script
and executes commands in it and thus performs changes to the file
system. You can use Combustion to change the default partitions, set
users\&#x27; passwords, create files, install packages, etc.</p><p>The Combustion dracut module is invoked after the ignition.firstboot
argument is passed to the kernel command line. Combustion then reads the
configuration from script. Combustion tries to configure the network, if
the network flag has been found in script. After <code>/sysroot</code> is mounted,
Combustion tries to activate all mount points in <code>/etc/fstab</code> and then
call <code>transactional-update</code> to apply other changes (like setting root
password or installing packages).
See <a href="https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#sec-combustion-script" target="_blank" rel="noopener noreferrer">https://documentation.suse.com/sle-micro/5.3/single-html/SLE-Micro-deployment/#sec-combustion-script</a>
for more information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ignitioncombustion-and-utm">Ignition/Combustion and UTM<a href="#ignitioncombustion-and-utm" class="hash-link" aria-label="Direct link to Ignition/Combustion and UTM" title="Direct link to Ignition/Combustion and UTM">​</a></h2><p>Ignition and Combustion are intended to automate the deployment of SLE
Micro systems. To use them with UTM there are a couple of alternatives:</p><ul><li><p>Use the QEMU <code>fw_cfg</code> flag as <code>-fw_cfg name=opt/org.opensuse.combustion/script,file=/var/combustion-script</code>
for combustion or <code>-fw_cfg name=opt/com.coreos/config,file=PATH_TO_config.ign</code> for ignition</p></li><li><p>Create a raw disk or ISO file to host the Ignition or Combustion (or
both) files.</p></li></ul><p>For Ignition, the configuration file <code>config.ign</code> must reside in the
<code>ignition</code> subdirectory on the configuration media labeled <code>ignition</code>. The
directory structure must look as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;root directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── ignition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── config.ign</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For Combustion, the configuration device needs to be named <code>combustion</code>, a
specific directory structure in that configuration medium needs to be
created and include a configuration file named <code>script</code>. In the root
directory of the configuration medium, create a directory called
<code>combustion</code> and place the <code>script</code> into this directory along with other
files---SSH key, configuration files, etc. The directory structure then
should look as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;root directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── combustion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── other files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Combustion can be used along with Ignition. If you intend to do so,
label your configuration medium <code>ignition</code> and include the <code>ignition</code>
directory with the <code>config.ign</code> to your directory structure as shown
below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;root directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── combustion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── other files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── ignition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── config.ign</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this scenario, Ignition runs before Combustion.</p><h1>Image-based process step by step</h1><p><strong>NOTE</strong>: There is a helper script that automates all the steps included here
<a href="https://github.com/suse-edge/misc/blob/main/slemicro/create_vm.sh" target="_blank" rel="noopener noreferrer">https://github.com/suse-edge/misc/blob/main/slemicro/create_vm.sh</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2><ul><li><p>SLE Micro raw image</p><ul><li>Download the raw image file from the SUSE website at <a href="https://www.suse.com/download/sle-micro/" target="_blank" rel="noopener noreferrer">https://www.suse.com/download/sle-micro/</a><ul><li>Select ARM architecture</li><li>Look for the raw file (I.e.- <code>SLE-Micro.aarch64-5.3.0-Default-GM.raw.xz</code>)</li></ul></li></ul><p><strong>NOTE:</strong> You need to have a valid user on the SUSE site to be able to
download the file.</p></li><li><p>Access to <a href="https://scc.suse.com/" target="_blank" rel="noopener noreferrer">https://scc.suse.com/</a> to generate a registration code</p></li><li><p>Butane, qemu and cdrtools installed (using brew for example)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install butane cdrtools qemu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>UTM installed (using brew for example)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install --cask utm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p><strong>Note:</strong> If using the previous script, it is required to install UTM
4.2.2 at least as it includes the proper support for the automation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="image-preparation">Image preparation<a href="#image-preparation" class="hash-link" aria-label="Direct link to Image preparation" title="Direct link to Image preparation">​</a></h2><ul><li><p>Uncompress the SLE Micro image</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">xz -d ~/Downloads/SLE-Micro.*-Default-GM.raw.xz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Move the file to a proper location and rename it to fit the VM
hostname</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp ~/Downloads/SLE-Micro.*-Default-GM.raw ~/VMs/slemicro.raw</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Resize the image file. In this example, to 30G</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">qemu-img resize -f raw ~/VMs/slemicro.raw 30G &gt; /dev/null</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ignition--combustion-files">Ignition &amp; Combustion files<a href="#ignition--combustion-files" class="hash-link" aria-label="Direct link to Ignition &amp; Combustion files" title="Direct link to Ignition &amp; Combustion files">​</a></h2><p>To automate the installation, we will leverage Butane, Ignition and
Combustion as explained before:</p><ul><li><p>Create a temporary folder to store the assets</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">TMPDIR=$(mktemp -d)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Create the required folders for ignition and combustion</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ${TMPDIR}/{combustion,ignition}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Create a <code>config.fcc</code> butane config file as required. See the
following example to set a <code>root</code> password for the root user, and to
configure the hostname to be &quot;slemicro&quot;&#x27;</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt; &#x27;EOF&#x27; &gt; ${TMPDIR}/config.fcc </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variant: fcos </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: 1.4.0 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  files: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - path: /etc/hostname </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mode: 0644 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      overwrite: true </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      contents: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        inline: &quot;slemicro&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">passwd: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  users: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - name: root </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     password_hash: &quot;$y$j9T$/t4THH10B7esLiIVBROsE.$G1lyxfy/MoFVOrfXSnWAUq70Tf3mjfZBIe18koGOuXB&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Create a script combustion file as required. See the following
example to register the SLE Micro instance to SUSE&#x27;s SCC (use your
own email/regcode) and to create a <code>/etc/issue.d/combustion</code> file</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt; EOF &gt; ${TMPDIR}/combustion/script  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># combustion: network </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Redirect output to the console </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exec &gt; &gt;(exec tee -a /dev/tty0) 2&gt;&amp;1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set hostname at combustion phase for SUSEConnect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hostname slemicro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Registration </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ! which SUSEConnect &gt; /dev/null 2&gt;&amp;1; then </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zypper --non-interactive install suseconnect-ng </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SUSEConnect --email foobar@suse.com --url https://scc.suse.com --regcode YOURCODE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Leave a marker </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Configured with combustion&quot; &gt; /etc/issue.d/combustion </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Convert the butane config to ignition</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">butane -p -o ${TMPDIR}/ignition/config.ign ${TMPDIR}/config.fcc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Create an ISO file. It is requried for both ignition and combustion
to work that the ISO is labeled as <code>ignition</code> (hence the -V
parameter)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkisofs -full-iso9660-filenames -o ignition-and-combustion.iso -V ignition ${TMPDIR}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong>Optional:</strong> Remove the temporary folder</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rm -Rf ${TMPDIR}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vm-creation">VM Creation<a href="#vm-creation" class="hash-link" aria-label="Direct link to VM Creation" title="Direct link to VM Creation">​</a></h2><p>Now it is time to finally use UTM to boot the VM</p><p><img loading="lazy" src="/assets/images/baa5c862ccb1a301c59c47f7316a1014f529a679-9f4ce523da452455162377b7d77a845a.png" width="902" height="654" class="img_ev3q"></p><p>Create a New Virtual Machine using Virtualization</p><p><img loading="lazy" src="/assets/images/988c205e2d120f9ec168c26a6a5360c6288c5e0e-a9a83ff39aef91c4cc185d4b555c5b09.png" width="452" height="513" class="img_ev3q"></p><p>Select &quot;Other&quot;</p><p><img loading="lazy" src="/assets/images/b29dc520bbf07d04e31e8b3b2649dc2ded0d6a57-dd1299c70f9ebf344be59735467d4a3a.png" width="452" height="513" class="img_ev3q"></p><p>Enable the &quot;Skip ISO boot&quot; option as we will use the raw disk directly</p><p><img loading="lazy" src="/assets/images/e2b08e7cb930ddffed32724d171a9b114d3a071a-edebed6753aa78104b172a4a1447c7e2.png" width="452" height="513" class="img_ev3q"></p><p>Select the required CPU/RAM:</p><p><img loading="lazy" src="/assets/images/1466bd582ba35bd66c26c0079802c056896e4eaa-85a9b6f5619fa6a175fc32efcf7fde67.png" width="452" height="513" class="img_ev3q"></p><p>Accept the storage size as it is, it will be deleted before booting it</p><p><img loading="lazy" src="/assets/images/6641b40ab6668c993e4b4b0384d3b49f586c06ff-97218ca25f480055d19be7b8839be1cb.png" width="452" height="513" class="img_ev3q"></p><p>Skip the Shared Directory</p><p><img loading="lazy" src="/assets/images/5abda93849e7fe7f76805e8a3daa3fe9d82363ed-33484903fd1d3716ea7e4792d7a5f268.png" width="452" height="513" class="img_ev3q"></p><p>Edit the VM name and enable the &quot;Open VM Settings&quot; toggle to customize
it further:</p><p><img loading="lazy" src="/assets/images/e93ace3490f64505a1fea7713de4e6fa603ae467-1fcd9e486afe2929dea98a70298ae05b.png" width="452" height="513" class="img_ev3q"></p><p>Delete the VirtIO Drive</p><p><img loading="lazy" src="/assets/images/5e96b95370a5c483f022d179dabc0b704351523a-e1fcece863ceca41f984a5c7ae5788c0.png" width="900" height="655" class="img_ev3q"></p><p>Add a new Device and select &quot;Import&quot;</p><p><img loading="lazy" src="/assets/images/5027d068b69ea4e908bd569ca7f907fe8e034e1d-9ceb0288822d81e78075bb1b01a3bd81.png" width="928" height="654" class="img_ev3q"></p><p>Select the raw image file (<!-- -->~<!-- -->/VMs/slemicro.raw in this case)</p><p><img loading="lazy" src="/assets/images/12d3dfb41520356ee76857affe3041be04a652bc-206f55b25e5082a22dffcfe3c4b396b8.png" width="802" height="450" class="img_ev3q"></p><p>Repeat the last two steps to add the ignition-and-combustion.iso file</p><p><img loading="lazy" src="/assets/images/959fd78cfe57aa2edd60784ad04f8609d6ed21fb-b2418c10c2d55f94b5386de545fbc50f.png" width="802" height="450" class="img_ev3q"></p><p>Configure the ISO as Read Only and &quot;CD/DVD (ISO) Image&quot;</p><p><img loading="lazy" src="/assets/images/914cbe42425661f0b5c9973160c591df72be64f1-581fca814d98f0d9ee0335151873de02.png" width="802" height="463" class="img_ev3q"></p><p>Finally, boot the VM.</p><p>After a couple of seconds, the VM will boot up and will configure itself
using the ignition and combustion scripts, including registering itself
to SCC</p><p><img loading="lazy" src="/assets/images/a7850c3aa119d254910375f49bc34251178c70f0-5c98e1ac416cd078010d0668551f769f.png" width="802" height="640" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/f6f9d54d3c3989b06cc286f5e4b8b912b081d38a-5a300261547b5b04522a09b6583a2089.png" width="1712" height="483" class="img_ev3q"></p><p><strong>NOTE:</strong> In case the VM doesn&#x27;t get network connectivity, try
<a href="https://github.com/utmapp/UTM/discussions/3530#discussioncomment-5072113" target="_blank" rel="noopener noreferrer">https://github.com/utmapp/UTM/discussions/3530#discussioncomment-5072113</a></p><p><strong>NOTE:</strong> Once the VM is running, you can access via SSH via its IP as <code>ssh root@&lt;ip&gt;</code></p><h1>ISO Process (TBD)</h1><ul><li>Download the ISO file</li><li>Create a new VM on UTM using the ISO file</li><li>Create the autoyast answer file</li><li>Use the AutoYaST boot parameter to map to the answer file</li><li>Boot the VM</li><li>Profit!</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/suse-edge/suse-edge.github.io/tree/main/docs/quickstart/slemicro-utm-aarch64.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-06-06T12:40:29.000Z">Jun 6, 2023</time></b> by <b>Kristian Zhelyazkov</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/quickstart/slemicro-virt-install-x86_64"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SLE Micro on X86_64 on libvirt (virt-install)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#osx-virtualization" class="table-of-contents__link toc-highlight">OSX Virtualization</a></li><li><a href="#sle-micro-installation-automation-iso-vs-image" class="table-of-contents__link toc-highlight">SLE Micro installation automation: ISO vs Image</a></li><li><a href="#ignition-vs-butane-vs-combustion" class="table-of-contents__link toc-highlight">Ignition vs Butane vs Combustion</a></li><li><a href="#ignitioncombustion-and-utm" class="table-of-contents__link toc-highlight">Ignition/Combustion and UTM</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#image-preparation" class="table-of-contents__link toc-highlight">Image preparation</a></li><li><a href="#ignition--combustion-files" class="table-of-contents__link toc-highlight">Ignition &amp; Combustion files</a></li><li><a href="#vm-creation" class="table-of-contents__link toc-highlight">VM Creation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">SUSE Edge</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/suse-edge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 SUSE Edge team. All Rights Reserved. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.792587bc.js"></script>
<script src="/assets/js/main.944a79f2.js"></script>
</body>
</html>