<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-quickstart/nvidia-slemicro">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">NVIDIA GPU&#x27;s on SLE Micro | SUSE Edge Team</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://suse-edge.github.io/img/suse-edge-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://suse-edge.github.io/img/suse-edge-social-card.jpg"><meta data-rh="true" property="og:url" content="https://suse-edge.github.io/docs/quickstart/nvidia-slemicro"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NVIDIA GPU&#x27;s on SLE Micro | SUSE Edge Team"><meta data-rh="true" name="description" content="In this guide, we&#x27;ll show you how to implement host-level NVIDIA GPU support via the pre-built open-source drivers on SLE Micro 5.3+. In other words, drivers that are baked into the operating system rather than dynamically loaded by NVIDIA&#x27;s GPU Operator. This configuration is highly desirable for customers that want to pre-bake all artefacts required for deployment into the image, and where the dynamic selection of the driver version is not a requirement. This guide shows how to deploy the additional components onto a pre-installed system, but the steps could also be used to create a deployment image with the software pre-baked."><meta data-rh="true" property="og:description" content="In this guide, we&#x27;ll show you how to implement host-level NVIDIA GPU support via the pre-built open-source drivers on SLE Micro 5.3+. In other words, drivers that are baked into the operating system rather than dynamically loaded by NVIDIA&#x27;s GPU Operator. This configuration is highly desirable for customers that want to pre-bake all artefacts required for deployment into the image, and where the dynamic selection of the driver version is not a requirement. This guide shows how to deploy the additional components onto a pre-installed system, but the steps could also be used to create a deployment image with the software pre-baked."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://suse-edge.github.io/docs/quickstart/nvidia-slemicro"><link data-rh="true" rel="alternate" href="https://suse-edge.github.io/docs/quickstart/nvidia-slemicro" hreflang="en"><link data-rh="true" rel="alternate" href="https://suse-edge.github.io/docs/quickstart/nvidia-slemicro" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SUSE Edge Team RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SUSE Edge Team Atom Feed"><link rel="stylesheet" href="/assets/css/styles.687d4240.css">
<link rel="preload" href="/assets/js/runtime~main.821edca9.js" as="script">
<link rel="preload" href="/assets/js/main.8673400a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/edge-logo.svg" alt="SUSE Edge Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/edge-logo.svg" alt="SUSE Edge Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SUSE Edge site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/suse-edge/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/quickstart/slemicro-utm-aarch64">Quickstarts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/slemicro-utm-aarch64">SLE Micro on OSX on Apple Silicon (UTM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/slemicro-virt-install-x86_64">SLE Micro on X86_64 on libvirt (virt-install)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/k3s-on-slemicro">K3s on SLE Micro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/elemental-utm-aarch64">Elemental on OSX on Apple Silicon (UTM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/metallb">MetalLB on K3s</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/metallb-kube-api">MetalLB Service in front of the Kubernetes API server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/nats">NATS on K3s</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart/rke2-selinux">RKE2 cluster with SELinux enabled</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/quickstart/nvidia-slemicro">NVIDIA GPU&#x27;s on SLE Micro</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/misc/slemicro-vs-slemicro-rancher">Miscellaneous</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev_howto/create-package-obs">Developer How-To</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/product/atip/introduction">Product Documentation</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Quickstarts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">NVIDIA GPU&#x27;s on SLE Micro</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Intro</h1><p>In this guide, we&#x27;ll show you how to implement host-level NVIDIA GPU support via the pre-built <a href="https://github.com/NVIDIA/open-gpu-kernel-modules" target="_blank" rel="noopener noreferrer">open-source drivers</a> on SLE Micro 5.3+. In other words, drivers that are baked into the operating system rather than dynamically loaded by NVIDIA&#x27;s <a href="https://github.com/NVIDIA/gpu-operator" target="_blank" rel="noopener noreferrer">GPU Operator</a>. This configuration is highly desirable for customers that want to pre-bake all artefacts required for deployment into the image, and where the dynamic selection of the driver version is not a requirement. This guide shows how to deploy the additional components onto a pre-installed system, but the steps could also be used to create a deployment image with the software pre-baked.</p><p>However, should you want to utilise the GPU Operator for Kubernetes integration, it should still be possible to follow this guide and enable the GPU operator by telling it to utilise the <em>pre-installed</em> drivers via the <code>driver.enabled=false</code> flag in the NVIDIA GPU Operator Helm chart, where more comprehensive instructions are available <a href="https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/latest/install-gpu-operator.html#chart-customization-options" target="_blank" rel="noopener noreferrer">here</a>.</p><p>It&#x27;s important to call out that the support for these drivers is provided by both SUSE and NVIDIA in tight collaboration, however if you have any concerns or questions about the combination in which you&#x27;re utilising the drivers, then please ask your SUSE or NVIDIA account managers for further assistance. If you&#x27;re planning on utilising <a href="https://www.nvidia.com/en-gb/data-center/products/ai-enterprise/" target="_blank" rel="noopener noreferrer">NVIDIA AI Enterprise</a> (NVAIE) you will need to ensure that you&#x27;re using an <a href="https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/latest/platform-support.html#supported-nvidia-gpus-and-systems" target="_blank" rel="noopener noreferrer">NVAIE certified GPU</a>, which <em>may</em> require the use of proprietary NVIDIA drivers. If you&#x27;re unsure, please speak with your NVIDIA representative.</p><blockquote><p>NOTE: The instructions provided below will drastically simplify in the coming weeks; the instructions below demonstrate how to pull some packages from SLES repos and install them on SLE Micro, and we&#x27;re currently porting these packages over to SLE Micro 5.3, 5.4, and 5.5. They&#x27;ll also be available in the ALP-based Micro equivalent in the coming months.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2><p>If you&#x27;re following this guide, it&#x27;s assumed that you&#x27;ve got the following already available:</p><ul><li>At least one host with SLE Micro 5.3+ installed; this can be physical or virtual.</li><li>Your host(s) is/are attached to a subscription as this will be required for package access - an evaluation is available <a href="https://www.suse.com/download/sle-micro/" target="_blank" rel="noopener noreferrer">here</a>.</li><li>A <a href="https://github.com/NVIDIA/open-gpu-kernel-modules#compatible-gpus" target="_blank" rel="noopener noreferrer">compatible NVIDIA GPU</a> installed (or passed through to the virtual machine in which SLE Micro is running).</li><li>Access to the root user - these instructions assume you&#x27;re the root user, and <em>not</em> escalating your privileges via <code>sudo</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2><p>Currently, the required packages for the NVIDIA open driver are not available in standard SLE Micro package repositories, only SUSE Linux Enterprise Server (SLES), so we need to pull them from those repositories, which we can easily do via the toolbox utility. Note that this will not be required in coming weeks - we&#x27;re currently making these packages available in SLE Micro, so the next few steps will become redundant.</p><p>In the meantime, ensure that you&#x27;ve got the <code>mounts.conf</code> file setup correctly, this will ensure that any containers started by podman (which includes the <code>toolbox</code> utility) will automatically have your SUSE Connect credentials injected into the image. This will allow package access so we can download the packages from the SLES repositories (this file is <em>usually</em> already configured on SLE Micro 5.3, but let&#x27;s make sure): </p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> /etc/containers/mounts.conf</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># This configuration file specifies the default mounts for each container of the</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># tools adhering to this file (e.g., CRI-O, Podman, Buildah).  The format of the</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># config is /SRC:/DST, one mount per line.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">#/etc/SUSEConnect:/etc/SUSEConnect</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">/etc/zypp/credentials.d/SCCcredentials:/etc/zypp/credentials.d/SCCcredentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, make a temporary directory in which we can push the packages that we need to download from SLES onto the local filesystem, for this I&#x27;m just using <code>/root/nvidia</code>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p /root/nvidia</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we can open up the <code>toolbox</code> utility, which provides additional command line tooling and utilities that are not part of SLE Micro&#x27;s base operating system. This tool is useful for troubleshooting a system where you want to maintain a minimal footprint underlying operating system:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">toolbox</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once we&#x27;re in the toolbox utility, we can ask the package manager (<code>zypper</code>) to add the <code>sle-module-basesystem</code> module, refresh the repositories, and then <em>download</em> the NVIDIA driver packages into the previously created <code>/root/nvidia</code> directory on the host filesystem, noting that from within toolbox the absolute path is <code>/media/root/root/nvidia</code>. In the example below we&#x27;re specifically pulling the &quot;G06&quot; generation of driver, which supports the latest GPU&#x27;s (please see <a href="https://en.opensuse.org/SDB:NVIDIA_drivers#Install" target="_blank" rel="noopener noreferrer">here</a> for further information), so please ensure that you&#x27;re selecting an appropriate GPU version.</p><p>In addition, the example below calls for <em>535.86.05</em> of the driver; please make sure that the driver version that you&#x27;re selecting is compatible with your GPU, and in addition meets the CUDA requirements (if applicable) by checking <a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/" target="_blank" rel="noopener noreferrer">here</a>. It&#x27;s also advisable to check the <a href="http://download.nvidia.com/suse/sle15sp4/x86_64/" target="_blank" rel="noopener noreferrer">NVIDIA SLE15-SP4 repository</a> to ensure that the driver version that you&#x27;ve chosen has an equivalent <code>nvidia-compute-utils-G06</code> package with the same version string; this repository is regularly refreshed by NVIDIA, but the versions need to match; there&#x27;s a possibility that we have a newer driver version in the SUSE repo than NVIDIA has in theirs (or vice versa), so it&#x27;s important to match the versions here.</p><p>When you&#x27;ve confirmed the above, use the following commands to pull the required packages appropriate for your system:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">ADDITIONAL_MODULES</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sle-module-basesystem </span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> ref</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> --pkg-cache-dir /media/root/root/nvidia </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y --download-only nvidia-open-driver-G06-signed-kmp</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">535.86</span><span class="token plain">.05</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now that you&#x27;ve got the packages available outside of the toolbox utility, exit the toolbox:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>NOTE: Please make sure that you&#x27;ve exited the <code>toolbox</code> utility before proceeding!</p></blockquote><p>Now you&#x27;re ready to install the packages on the host operating system, and for this we need to open up a <code>transactional-update</code> session, which creates a new read/write snapshot of the underlying operating system so we can make changes to the immutable platform (for further instructions on <code>transactional-update</code> see <a href="https://documentation.suse.com/sle-micro/5.4/html/SLE-Micro-all/sec-transactional-udate.html" target="_blank" rel="noopener noreferrer">here</a>):</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">transactional-update shell</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you&#x27;re in your <code>transactional-update</code> shell, add the additional required package repositories from NVIDIA; this will allow us to pull in additional utilities, e.g. <code>nvidia-smi</code>, along with access to CUDA packages that you may want to utilise:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> ar https://developer.download.nvidia.com/compute/cuda/repos/sles15/x86_64/ nvidia-sle15sp4-cuda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> ar https://download.nvidia.com/suse/sle15sp4/ nvidia-sle15sp4-main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, move to the <code>/root/nvidia</code> directory, which will contain a couple of directories that the previous <code>zypper</code> command created with the downloaded packages from SLES. Then, we can request that the package manager install the pre-built signed kernel modules, the firmware packages, and the additional useful utilities package:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /root/nvidia/container-suseconnect-zypp:SLE-Module-Basesystem15-SP4-Updates/x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> nvidia-open-driver-G06-signed-kmp-default* kernel-firmware-nvidia-gspx-G06* nvidia-compute-utils-G06</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>NOTE: If this fails to install it&#x27;s likely that there&#x27;s a dependency mismatch between the selected driver version and what NVIDIA is shipping in their repositories - please revisit the section above to validate that your versions match; it may require you to remove files from <code>/root/nvidia</code> and re-execute the commands starting from <code>toolbox</code>.</p></blockquote><p>Now that you&#x27;ve installed these packages, it&#x27;s time to exit the <code>transactional-update</code> session:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>NOTE: Please make sure that you&#x27;ve exited the <code>transactional-update</code> session before proceeding!</p></blockquote><p>Next, if you&#x27;re <em>not</em> using a supported GPU, remembering that the list can be found <a href="https://github.com/NVIDIA/open-gpu-kernel-modules#compatible-gpus" target="_blank" rel="noopener noreferrer">here</a>, you can see if the driver will work by enabling support at the module level, but your mileage may vary -- skip this step if you&#x27;re using a <em>supported</em> GPU:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">transactional-update run </span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> -i </span><span class="token string" style="color:#e3116c">&#x27;/NVreg_OpenRmEnableUnsupportedGpus/s/^#//g&#x27;</span><span class="token plain"> /etc/modprobe.d/50-nvidia-default.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now that you&#x27;ve got your drivers installed, it&#x27;s time to reboot, as SLE Micro is an immutable operating system it needs to reboot into the new snapshot that you created in a previous step; the drivers are only installed into this new snapshot, and hence it&#x27;s not possible to load the drivers without rebooting into this new snapshot, which will happen automatically. Issue the reboot command when you&#x27;re ready:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">reboot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the system has rebooted successfully, log back in and try to use the <code>nvidia-smi</code> tool to verify that the driver is loaded successfully and that it&#x27;s able to both access and enumerate your GPU(s):</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nvidia-smi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output of this command should show you something similar to the following output, noting that in the example below we have two GPU&#x27;s:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Mon Sep </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> 06:58:12 </span><span class="token number" style="color:#36acaa">2023</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> NVIDIA-SMI </span><span class="token number" style="color:#36acaa">535.86</span><span class="token plain">.05              Driver Version: </span><span class="token number" style="color:#36acaa">535.86</span><span class="token plain">.05    CUDA Version: </span><span class="token number" style="color:#36acaa">12.2</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">-----------------------------------------+----------------------+----------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> GPU  Name                 Persistence-M </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Bus-Id        Disp.A </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Volatile Uncorr. ECC </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Fan  Temp   Perf          Pwr:Usage/Cap </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         Memory-Usage </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> GPU-Util  Compute M. </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                                         </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                      </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">               MIG M. </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">+=</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">+=</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  NVIDIA A100-PCIE-40GB          Off </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> 00000000:17:00.0 Off </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> N/A   29C    P0              35W / 250W </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">      4MiB / 40960MiB </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">%      Default </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                                         </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                      </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">             Disabled </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------------------------------------+----------------------+----------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  NVIDIA A100-PCIE-40GB          Off </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> 00000000:CA:00.0 Off </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> N/A   30C    P0              33W / 250W </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">      4MiB / 40960MiB </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">%      Default </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                                         </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                      </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">             Disabled </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------------------------------------+----------------------+----------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Processes:                                                                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  GPU   GI   CI        PID   Type   Process name                            GPU Memory </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        ID   ID                                                             Usage      </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  No running processes found                                                           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------------------------------------------------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>...and that&#x27;s it! You&#x27;ve successfully installed and verified that the NVIDIA drivers are loaded into SLE Micro.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-validation">Further Validation<a href="#further-validation" class="hash-link" aria-label="Direct link to Further Validation" title="Direct link to Further Validation">​</a></h2><p>At this stage, all we&#x27;ve been able to verify is that at the host level the NVIDIA device can be accessed and that the drivers are loading successfully. However, if we want to be sure that it&#x27;s functioning, a simple test would be to try and validate that the GPU can take instruction from a user-space application, ideally via a container, and through the CUDA library, as that&#x27;s typically what a real workload would utilise. For this, we can make a further modification to the host OS by installing the <code>nvidia-container-toolkit</code>. First, open up another <code>transactional-update</code> shell, noting that we could have done this in a single transaction in the previous step, but to many (e.g. customers wanting to use Kubernetes) this step won&#x27;t be required:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">transactional-update shell</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, install the <code>nvidia-container-toolkit</code> package, which comes from one of the repo&#x27;s that we configured in a previous step. Note that this command will initially appear to fail as it has a dependency on <code>libseccomp</code>, whereas this package is <code>libseccomp2</code> in SLE Micro, so you can safely select the second option (&quot;break dependencies&quot;) here:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> nvidia-container-toolkit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your output should look like the following:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Refreshing </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SUSE_Linux_Enterprise_Micro_5.4_x86_64&#x27;</span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Refreshing </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SUSE_Linux_Enterprise_Micro_x86_64&#x27;</span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Refreshing </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SUSE_Package_Hub_15_SP4_x86_64&#x27;</span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loading repository data</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reading installed packages</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Resolving package dependencies</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Problem: nothing provides </span><span class="token string" style="color:#e3116c">&#x27;libseccomp&#x27;</span><span class="token plain"> needed by the to be installed nvidia-container-toolkit-1.14.1-1.x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Solution </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> not </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> nvidia-container-toolkit-1.14.1-1.x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Solution </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">: </span><span class="token builtin class-name">break</span><span class="token plain"> nvidia-container-toolkit-1.14.1-1.x86_64 by ignoring some of its dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Choose from above solutions by number or cancel </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/2/c/d/?</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>NOTE: We&#x27;re working on fixing this dependency issue, so this should be a lot cleaner in the coming weeks.</p></blockquote><p>When you&#x27;re ready, you can exit the <code>transactional-update</code> shell:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>...and reboot the machine into the new snapshot:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">reboot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>NOTE: As before, you will need to ensure that you&#x27;ve exited the <code>transactional-shell</code> and rebooted the machine for your changes to be enacted.</p></blockquote><p>Now that the machine has rebooted, you can validate that the system is able to successfully enumerate the devices via the NVIDIA container toolkit (the output should be verbose, and it should provide a number of INFO and WARN messages, but no ERROR messages):</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nvidia-ctk cdi generate --output</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/etc/cdi/nvidia.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When ready, you can then run a podman-based container (doing this via <code>podman</code> gives us a good way of validating access to the NVIDIA device from within a container, which should give confidence for doing the same with Kubernetes), giving it access to the labelled NVIDIA device(s) that were taken care of by the previous command, based on <a href="https://registry.suse.com/bci/bci-base-15sp5/index.html" target="_blank" rel="noopener noreferrer">SLE BCI</a> and simply running bash:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">podman</span><span class="token plain"> run --rm --device nvidia.com/gpu</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">all --security-opt</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">label</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">disable -it registry.suse.com/bci/bci-base:latest </span><span class="token function" style="color:#d73a49">bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When we&#x27;re in the temporary podman container we can install the required CUDA libraries, again checking the correct CUDA version for your driver <a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/" target="_blank" rel="noopener noreferrer">here</a> although the previous output of <code>nvidia-smi</code> should show the required CUDA version. In the example below we&#x27;re installing <em>CUDA 12.1</em> and we&#x27;re pulling a large number of examples, demo&#x27;s, and development kits so you can fully validate the GPU:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> ar http://developer.download.nvidia.com/compute/cuda/repos/sles15/x86_64/ cuda-sle15-sp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> -y cuda-libraries-devel-12-1 cuda-minimal-build-12-1 cuda-demo-suite-12-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once this has been installed successfully, don&#x27;t exit from the container, we&#x27;ll run the <code>deviceQuery</code> CUDA example, which will comprehensively validate GPU access via CUDA, and from within the container itself:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/local/cuda-12/extras/demo_suite/deviceQuery</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If successful, you should see output that shows similar to the following, noting the <code>Result = PASS</code> message at the end of the command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/local/cuda-12/extras/demo_suite/deviceQuery Starting</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> CUDA Device Query </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Runtime API</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> version </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CUDART static linking</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Detected </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> CUDA Capable device</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Device </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;NVIDIA A100-PCIE-40GB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CUDA Driver Version / Runtime Version          </span><span class="token number" style="color:#36acaa">12.2</span><span class="token plain"> / </span><span class="token number" style="color:#36acaa">12.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CUDA Capability Major/Minor version number:    </span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total amount of global memory:                 </span><span class="token number" style="color:#36acaa">40339</span><span class="token plain"> MBytes </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">42298834944</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">108</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Multiprocessors, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> CUDA Cores/MP:     </span><span class="token number" style="color:#36acaa">6912</span><span class="token plain"> CUDA Cores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GPU Max Clock rate:                            </span><span class="token number" style="color:#36acaa">1410</span><span class="token plain"> MHz </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.41</span><span class="token plain"> GHz</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Memory Clock rate:                             </span><span class="token number" style="color:#36acaa">1215</span><span class="token plain"> Mhz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Memory Bus Width:                              </span><span class="token number" style="color:#36acaa">5120</span><span class="token plain">-bit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L2 Cache Size:                                 </span><span class="token number" style="color:#36acaa">41943040</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum Texture Dimension Size </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x,y,z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">         </span><span class="token assign-left variable" style="color:#36acaa">1D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">131072</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#36acaa">2D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">131072</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65536</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#36acaa">3D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16384</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">16384</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">16384</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum Layered 1D Texture Size, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> layers  </span><span class="token assign-left variable" style="color:#36acaa">1D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">32768</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"> layers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum Layered 2D Texture Size, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> layers  </span><span class="token assign-left variable" style="color:#36acaa">2D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">32768</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">32768</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"> layers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total amount of constant memory:               </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total amount of shared memory per block:       </span><span class="token number" style="color:#36acaa">49152</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total number of registers available per block: </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Warp size:                                     </span><span class="token number" style="color:#36acaa">32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum number of threads per multiprocessor:  </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum number of threads per block:           </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Max dimension size of a thread block </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x,y,z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1024</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Max dimension size of a grid size    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x,y,z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2147483647</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65535</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65535</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum memory pitch:                          </span><span class="token number" style="color:#36acaa">2147483647</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Texture alignment:                             </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Concurrent copy and kernel execution:          Yes with </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> copy engine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Run </span><span class="token function" style="color:#d73a49">time</span><span class="token plain"> limit on kernels:                     No</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Integrated GPU sharing Host Memory:            No</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Support </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> page-locked memory mapping:       Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Alignment requirement </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> Surfaces:            Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device has ECC support:                        Enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device supports Unified Addressing </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UVA</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:      Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device supports Compute Preemption:            Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Supports Cooperative Kernel Launch:            Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Supports MultiDevice Co-op Kernel Launch:      Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device PCI Domain ID / Bus ID / location ID:   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> / </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> / </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Compute Mode:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Default </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">multiple </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> threads can use ::cudaSetDevice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with device simultaneously</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Device </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;NVIDIA A100-PCIE-40GB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CUDA Driver Version / Runtime Version          </span><span class="token number" style="color:#36acaa">12.2</span><span class="token plain"> / </span><span class="token number" style="color:#36acaa">12.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CUDA Capability Major/Minor version number:    </span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total amount of global memory:                 </span><span class="token number" style="color:#36acaa">40339</span><span class="token plain"> MBytes </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">42298834944</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">108</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Multiprocessors, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> CUDA Cores/MP:     </span><span class="token number" style="color:#36acaa">6912</span><span class="token plain"> CUDA Cores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GPU Max Clock rate:                            </span><span class="token number" style="color:#36acaa">1410</span><span class="token plain"> MHz </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.41</span><span class="token plain"> GHz</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Memory Clock rate:                             </span><span class="token number" style="color:#36acaa">1215</span><span class="token plain"> Mhz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Memory Bus Width:                              </span><span class="token number" style="color:#36acaa">5120</span><span class="token plain">-bit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L2 Cache Size:                                 </span><span class="token number" style="color:#36acaa">41943040</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum Texture Dimension Size </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x,y,z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">         </span><span class="token assign-left variable" style="color:#36acaa">1D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">131072</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#36acaa">2D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">131072</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65536</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#36acaa">3D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16384</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">16384</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">16384</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum Layered 1D Texture Size, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> layers  </span><span class="token assign-left variable" style="color:#36acaa">1D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">32768</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"> layers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum Layered 2D Texture Size, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> layers  </span><span class="token assign-left variable" style="color:#36acaa">2D</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">32768</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">32768</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"> layers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total amount of constant memory:               </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total amount of shared memory per block:       </span><span class="token number" style="color:#36acaa">49152</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Total number of registers available per block: </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Warp size:                                     </span><span class="token number" style="color:#36acaa">32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum number of threads per multiprocessor:  </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum number of threads per block:           </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Max dimension size of a thread block </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x,y,z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1024</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Max dimension size of a grid size    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x,y,z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2147483647</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65535</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">65535</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Maximum memory pitch:                          </span><span class="token number" style="color:#36acaa">2147483647</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Texture alignment:                             </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"> bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Concurrent copy and kernel execution:          Yes with </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> copy engine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Run </span><span class="token function" style="color:#d73a49">time</span><span class="token plain"> limit on kernels:                     No</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Integrated GPU sharing Host Memory:            No</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Support </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> page-locked memory mapping:       Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Alignment requirement </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> Surfaces:            Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device has ECC support:                        Enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device supports Unified Addressing </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UVA</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:      Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device supports Compute Preemption:            Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Supports Cooperative Kernel Launch:            Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Supports MultiDevice Co-op Kernel Launch:      Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Device PCI Domain ID / Bus ID / location ID:   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> / </span><span class="token number" style="color:#36acaa">202</span><span class="token plain"> / </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Compute Mode:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Default </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">multiple </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> threads can use ::cudaSetDevice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with device simultaneously</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Peer access from NVIDIA A100-PCIE-40GB </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GPU0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> NVIDIA A100-PCIE-40GB </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GPU1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Peer access from NVIDIA A100-PCIE-40GB </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GPU1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> NVIDIA A100-PCIE-40GB </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GPU0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deviceQuery, CUDA Driver </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CUDART, CUDA Driver Version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12.2</span><span class="token plain">, CUDA Runtime Version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12.1</span><span class="token plain">, NumDevs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">, Device0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> NVIDIA A100-PCIE-40GB, Device1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> NVIDIA A100-PCIE-40GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PASS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From here, you can continue to run any other CUDA workload - you can utilise compilers, and any other aspect of the CUDA ecosystem to run some further tests. When you&#x27;re done you can exit from the container, noting that whatever you&#x27;ve installed in there is ephemeral (so will be lost!), and hasn&#x27;t impacted the underlying operating system:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-with-kubernetes">Implementation with Kubernetes<a href="#implementation-with-kubernetes" class="hash-link" aria-label="Direct link to Implementation with Kubernetes" title="Direct link to Implementation with Kubernetes">​</a></h2><p>(Coming soon!)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resolving-issues">Resolving issues<a href="#resolving-issues" class="hash-link" aria-label="Direct link to Resolving issues" title="Direct link to Resolving issues">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="propagating-proxies-to-toolbox-if-required">Propagating Proxies to toolbox if required<a href="#propagating-proxies-to-toolbox-if-required" class="hash-link" aria-label="Direct link to Propagating Proxies to toolbox if required" title="Direct link to Propagating Proxies to toolbox if required">​</a></h3><p>In case your system is behind a proxy ensure to propagate your proxy settings to <code>mounts.conf</code> by adding the following lines:</p><div class="language-mounts.conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mounts.conf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/environment:/etc/environment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="propagating-trusted-ca-certificates-to-toolbox-if-required">Propagating trusted CA Certificates to toolbox if required<a href="#propagating-trusted-ca-certificates-to-toolbox-if-required" class="hash-link" aria-label="Direct link to Propagating trusted CA Certificates to toolbox if required" title="Direct link to Propagating trusted CA Certificates to toolbox if required">​</a></h3><p>In case your system is running in an environment that requires trusting traffic of private CA&#x27;s, propagate the certificates to toolbox by adding the following lines to <code>mounts.conf</code></p><div class="language-mounts.conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mounts.conf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/pki/trust/:/etc/pki/trust/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/pki/trust/:/usr/share/pki/trust/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/etc/ssl/certs/:/etc/ssl/certs/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and run <code>update-ca-certificates</code> after starting toolbox</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nvidia-smi-does-not-find-the-gpu">NVidia SMI does not find the GPU<a href="#nvidia-smi-does-not-find-the-gpu" class="hash-link" aria-label="Direct link to NVidia SMI does not find the GPU" title="Direct link to NVidia SMI does not find the GPU">​</a></h3><p>Check the kernel messages using <code>dmesg</code>. In case this indicates that it fails to allocate <code>NvKMSKapDevice</code>, then apply the override documented above</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-if-kernel-modules-match-the-kernel">Check if Kernel Modules match the kernel<a href="#check-if-kernel-modules-match-the-kernel" class="hash-link" aria-label="Direct link to Check if Kernel Modules match the kernel" title="Direct link to Check if Kernel Modules match the kernel">​</a></h3><p>In case zypper also downloads a new <code>kernel-default</code> package, then check if there is a mismatch in the NVidia kernel modules package and the running kernel (comparing to <code>uname -r</code>)</p><p>In case of a differences, consider to also install the downloaded <code>kernel-default</code> package and other suggested packages by executing the installation as <code>zypper in *</code></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/suse-edge/suse-edge.github.io/tree/main/docs/quickstart/nvidia-slemicro.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-10-18T14:45:01.000Z">Oct 18, 2023</time></b> by <b>Patrick Bronneberg</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/quickstart/rke2-selinux"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RKE2 cluster with SELinux enabled</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/misc/slemicro-vs-slemicro-rancher"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SLE Micro vs SLE Micro for Rancher</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#further-validation" class="table-of-contents__link toc-highlight">Further Validation</a></li><li><a href="#implementation-with-kubernetes" class="table-of-contents__link toc-highlight">Implementation with Kubernetes</a></li><li><a href="#resolving-issues" class="table-of-contents__link toc-highlight">Resolving issues</a><ul><li><a href="#propagating-proxies-to-toolbox-if-required" class="table-of-contents__link toc-highlight">Propagating Proxies to toolbox if required</a></li><li><a href="#propagating-trusted-ca-certificates-to-toolbox-if-required" class="table-of-contents__link toc-highlight">Propagating trusted CA Certificates to toolbox if required</a></li><li><a href="#nvidia-smi-does-not-find-the-gpu" class="table-of-contents__link toc-highlight">NVidia SMI does not find the GPU</a></li><li><a href="#check-if-kernel-modules-match-the-kernel" class="table-of-contents__link toc-highlight">Check if Kernel Modules match the kernel</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">SUSE Edge</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/suse-edge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 SUSE Edge team. All Rights Reserved. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.821edca9.js"></script>
<script src="/assets/js/main.8673400a.js"></script>
</body>
</html>